<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie-edge">
	<title>TIIDELAB Signup form</title>
	<link rel="stylesheet" type="text/css" href="signup.css">
</head>
<body>
	<div class="signupContainer">
		
		<div class="instruction">
			<img src="learning.jpg" alt="Learning" srcset="" >
		</div>

		<div class="formContainer" style="background-color:moccasin;">

			<h3> Registration Form</h3>

			<form action="" name="signupForm" id="signupForm" onsubmit="processform()">
				
				<input type="text" name="fullName" id="fullName" placeholder="Enter Your Full Name" required>
				
				<input type="email" name="email" id="email" placeholder="Enter Your Email Address" required>
				
				<input type="text" name="username" id="username" placeholder="Enter Your username" required>
				
				<input type="password" name="password" id="password" placeholder="Enter Password" required>
				
				<input type="password" name="cpassword" id="confirmpassword" placeholder="Confirm Password" required>

				<input type="submit" value="Signup" class="submit">
			
			</form>
		</div>

	</div>

	<script>

		document.getElementById('signupForm').addEventListener("submit",function(even){
			event.preventDefault();
		}) 

		function processform(){
			 fullName = document.getElementById('fullName').value
			    email = document.getElementById('email').value
			    username = document.getElementById('username').value
			    password = document.getElementById('password').value
			    cpassword =  document.getElementById('confirmpassword').value
			     
			var data ={
			    		"fullName":fullName,
			    		"email":email,
			    		"userName":username,
			    		"newpassword":password,
			    		"isEnabled":true,
			    		"roles":["user"]
			    	}

			    if (password!=cpassword) {
			    	alert('password do not match')
			    
			    } else{
			    	
			    	  fetch('https://api.openclass.ng/Register',{
			    		method:'POST',
			    		body:JSON.stringify(data),
			    		headers:{
			    			'Content-Type':'application/json'
			    		}
			    	}).then(function(data){
			    		alert('congrats')
			    	})
			    
			    }
		
		}
		
	</script>
</body>
</html>